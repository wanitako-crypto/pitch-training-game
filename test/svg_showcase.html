<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SVG Rich Showcase</title>
    <style>
        /* --- 全体レイアウトとタイポグラフィ --- */
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #1a1a2e;
            color: #f0f0f0;
            margin: 0;
            padding: 2rem;
            text-align: center;
        }
        h1 {
            font-size: 2.5rem;
            color: #3498db;
            margin-bottom: 1rem;
        }
        p {
            font-size: 1.1rem;
            max-width: 800px;
            margin: 0 auto 3rem auto;
        }
        /* --- Showcaseカードのグリッドレイアウト --- */
        .showcase-grid {
            display: grid;
            /* 画面幅に応じて列数を自動調整するレスポンシブなグリッド */
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem;
            max-width: 1200px;
            margin: 0 auto;
        }
        .showcase-card {
            background-color: #2c2c44;
            border-radius: 15px;
            padding: 2rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: space-between;
            min-height: 400px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        .showcase-card h2 { margin-top: 0; color: #3498db; }
        .showcase-card .description { font-size: 0.9rem; color: #aaa; margin-bottom: 1.5rem; }
        .showcase-card .demo-area {
            flex-grow: 1;
            display: flex;
            justify-content: center;
            align-items: center;
            width: 100%;
        }
        .showcase-card button {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 8px 16px;
            font-size: 0.9rem;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
            margin-top: 1rem;
        }
        .showcase-card button:hover { background-color: #2980b9; }

        /* --- Example 1: パスアニメーション --- */
        #path-anim-container { width: 150px; height: 150px; }
        #path-anim-container .path {
            /* JSで変更される`stroke-dashoffset`プロパティを滑らかにアニメーションさせる */
            transition: stroke-dashoffset 1s ease-in-out;
        }
        #path-anim-container #circle { stroke: #2ecc71; stroke-width: 10; fill: rgba(46, 204, 113, 0.1); }
        #path-anim-container #checkmark {
            stroke: #2ecc71;
            stroke-width: 12;
            fill: none;
            stroke-linecap: round;
            stroke-linejoin: round;
            transition-delay: 0.5s; /* 円のアニメーションから少し遅れて開始 */
        }

        /* --- Example 2: グーイーエフェクト --- */
        #gooey-container {
            filter: url(#gooey); /* SVGフィルターを適用 */
            width: 200px; height: 200px;
            position: relative;
        }
        #gooey-container .gooey-main-button {
            position: absolute; z-index: 2; width: 90px; height: 90px;
            background-color: #e74c3c; color: white; border-radius: 50%;
            display: flex; justify-content: center; align-items: center;
            text-decoration: none; font-weight: bold; cursor: pointer;
        }
        #gooey-container .gooey-particle {
            position: absolute; width: 25px; height: 25px;
            background-color: #e74c3c; border-radius: 50%;
            transition: transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            top: calc(50% - 12.5px); left: calc(50% - 12.5px);
        }
        /* ホバー時にパーティクルを外側に移動させる */
        #gooey-container:hover .gooey-particle:nth-of-type(1) { transform: translate(-60px, -60px); }
        #gooey-container:hover .gooey-particle:nth-of-type(2) { transform: translate(60px, -60px); }
        #gooey-container:hover .gooey-particle:nth-of-type(3) { transform: translate(-60px, 60px); }
        #gooey-container:hover .gooey-particle:nth-of-type(4) { transform: translate(60px, 60px); }
        
        /* --- Example 3: グラデーションテキスト --- */
        #gradient-text-container svg { width: 100%; height: 100px; }
        #gradient-text-container text {
            font-size: 3rem;
            font-weight: bold;
            text-anchor: middle; /* テキストを中央揃えに */
        }
    </style>
</head>
<body>

    <h1>SVG Rich Showcase</h1>
    <p>SVG (Scalable Vector Graphics) を使ったリッチな表現のサンプル集です。<br>CSSやJavaScriptと組み合わせることで、多様なアニメーションやインタラクションが実現できます。</p>

    <div class="showcase-grid">
        
        <!-- Card 1: パスアニメーション -->
        <div class="showcase-card">
            <div>
                <h2>パスアニメーション</h2>
                <p class="description">SVGパスの`stroke-dashoffset`をアニメーションさせ、線が描画されるように見せるテクニック。</p>
            </div>
            <div class="demo-area">
                <div id="path-anim-container">
                    <svg viewBox="0 0 100 100">
                        <circle id="circle" class="path" cx="50" cy="50" r="45"/>
                        <path id="checkmark" class="path" d="M30 52 l14 14 l28 -28"/>
                    </svg>
                </div>
            </div>
            <button id="replayPathAnim">もう一度再生</button>
        </div>

        <!-- Card 2: グーイーエフェクト -->
        <div class="showcase-card">
            <div>
                <h2>グーイーエフェクト</h2>
                <p class="description">SVGフィルターを使い、要素が液体のように融合するエフェクト。ホバーしてみてください。</p>
            </div>
            <div class="demo-area">
                <div id="gooey-container">
                    <span class="gooey-particle"></span><span class="gooey-particle"></span>
                    <span class="gooey-particle"></span><span class="gooey-particle"></span>
                    <div class="gooey-main-button">HOVER</div>
                </div>
            </div>
            <button id="replayGooey" style="visibility: hidden;">-</button>
        </div>

        <!-- Card 3: グラデーションテキスト -->
        <div class="showcase-card">
            <div>
                <h2>グラデーションテキスト</h2>
                <p class="description">SVGの`linearGradient`と`animate`を使い、テキストの塗りを動的なグラデーションにする。</p>
            </div>
            <div class="demo-area">
                <div id="gradient-text-container">
                     <svg viewBox="0 0 400 100">
                        <!-- `fill`属性に、下の<defs>で定義したグラデーションのIDを指定 -->
                        <text x="50%" y="60%" fill="url(#animated-gradient)">RICH SVG TEXT</text>
                    </svg>
                </div>
            </div>
            <button id="replayGradient" style="visibility: hidden;">-</button>
        </div>
    </div>

    <!-- 
      SVGの定義セクション
      フィルターやグラデーションなど、再利用可能な要素を<defs>内に定義する。
      この<svg>タグ自体は `width:0; height:0;` で画面に表示されない。
    -->
    <svg style="position:absolute; width:0; height:0;">
        <defs>
            <!-- グーイーエフェクト用のフィルター定義 -->
            <filter id="gooey">
                <feGaussianBlur in="SourceGraphic" stdDeviation="10" result="blur" />
                <feColorMatrix in="blur" mode="matrix" values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 20 -9" result="goo" />
                <feBlend in="SourceGraphic" in2="goo" />
            </filter>
            
            <!-- アニメーション付きグラデーションの定義 -->
            <linearGradient id="animated-gradient" x1="0%" y1="0%" x2="100%" y2="0%">
                <!-- グラデーションを構成する各色（stop） -->
                <stop offset="0%" stop-color="#3498db">
                    <!-- `<animate>`タグ (SMIL) を使って`offset`属性を動かす。これによりグラデーションが移動して見える -->
                    <animate attributeName="offset" values="-1; 1" dur="3s" repeatCount="indefinite" />
                </stop>
                <stop offset="50%" stop-color="#e74c3c">
                    <animate attributeName="offset" values="-0.5; 1.5" dur="3s" repeatCount="indefinite" />
                </stop>
                 <stop offset="100%" stop-color="#9b59b6">
                     <animate attributeName="offset" values="0; 2" dur="3s" repeatCount="indefinite" />
                </stop>
            </linearGradient>
        </defs>
    </svg>

    <script>
        // ページのDOM要素が読み込まれてから実行
        document.addEventListener('DOMContentLoaded', () => {
            
            // --- パスアニメーションのロジック ---
            const pathCircle = document.querySelector('#path-anim-container #circle');
            const pathCheckmark = document.querySelector('#path-anim-container #checkmark');
            const replayPathBtn = document.getElementById('replayPathAnim');

            // パスを非表示状態に設定するヘルパー関数
            function setupPath(pathElement) {
                const length = pathElement.getTotalLength(); // パスの全長を取得
                pathElement.style.strokeDasharray = length;
                pathElement.style.strokeDashoffset = length;
            }

            // アニメーションを再生する関数
            function playPathAnimation() {
                setupPath(pathCircle);
                setupPath(pathCheckmark);
                setTimeout(() => {
                    pathCircle.style.strokeDashoffset = '0';
                    pathCheckmark.style.strokeDashoffset = '0';
                }, 20);
            }
            
            // ボタンクリックでアニメーションを再生
            replayPathBtn.addEventListener('click', playPathAnimation);
            // ページ読み込み時に一度再生
            playPathAnimation();

            // グーイーエフェクトとグラデーションテキストは、
            // それぞれCSSホバーとSVG SMILで完結しているため、ここでは特別なJavaScriptは不要。
        });
    </script>
</body>
</html>
